<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet"
   href="https://fonts.googleapis.com/css?family=Lato|Roboto+Slab"><!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Coroutines | Wind and Water</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Coroutines" />
<meta name="author" content="Douglas Lovell" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Have you ever wondered how a construction crane grows with the building? Well, I have. Here’s how it works." />
<meta property="og:description" content="Have you ever wondered how a construction crane grows with the building? Well, I have. Here’s how it works." />
<link rel="canonical" href="http://localhost:4000/2018/04/co-routines.html" />
<meta property="og:url" content="http://localhost:4000/2018/04/co-routines.html" />
<meta property="og:site_name" content="Wind and Water" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-04-17T00:00:00-03:00" />
<script type="application/ld+json">
{"description":"Have you ever wondered how a construction crane grows with the building? Well, I have. Here’s how it works.","author":{"@type":"Person","name":"Douglas Lovell"},"@type":"BlogPosting","url":"http://localhost:4000/2018/04/co-routines.html","headline":"Coroutines","dateModified":"2018-04-17T00:00:00-03:00","datePublished":"2018-04-17T00:00:00-03:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2018/04/co-routines.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<style type='text/css'>
    <!-- this is here because scss doesn't process the liquid filter -->
    body {
      background-image: url("/assets/paperbg.png");
    }
  </style>
  <link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Wind and Water" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Wind and Water</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/posts/">Posts</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <section class='col span_1_of_4 post-list left-sidebar'>
  
    <h2 class="post-list-heading">Posts</h2>
    <ul class="post-list">
      
      <li>
        
        <span class="post-meta">Apr 17, 2018</span>
        <h3>
          <a class="post-link" href="/2018/04/co-routines.html">
            Coroutines
          </a>
        </h3>
      </li>
      
      <li>
        
        <span class="post-meta">Apr 5, 2018</span>
        <h3>
          <a class="post-link" href="/2018/04/dock-io.html">
            Your Professional Pedigree
          </a>
        </h3>
      </li>
      
      <li>
        
        <span class="post-meta">Mar 21, 2018</span>
        <h3>
          <a class="post-link" href="/2018/03/tracking-fork-sources.html">
            Tracking the source of a fork
          </a>
        </h3>
      </li>
      
      <li>
        
        <span class="post-meta">Mar 18, 2018</span>
        <h3>
          <a class="post-link" href="/2018/03/the-dispossessed.html">
            The Dispossessed
          </a>
        </h3>
      </li>
      
      <li>
        
        <span class="post-meta">Mar 16, 2018</span>
        <h3>
          <a class="post-link" href="/2018/03/why-i-dont-use-fb.html">
            Why I&#39;m not on Facebook
          </a>
        </h3>
      </li>
      
      <li>
        
        <span class="post-meta">Mar 9, 2018</span>
        <h3>
          <a class="post-link" href="/2018/03/merging-structure.html">
            Merging migrations
          </a>
        </h3>
      </li>
      
      <li>
        
        <span class="post-meta">Mar 8, 2018</span>
        <h3>
          <a class="post-link" href="/2018/03/rebase-v-merge.html">
            Git merge v. rebase
          </a>
        </h3>
      </li>
      
      <li>
        
        <span class="post-meta">Feb 23, 2018</span>
        <h3>
          <a class="post-link" href="/2018/02/have-http-status.html">
            RSpec have HTTP status upgrade
          </a>
        </h3>
      </li>
      
    </ul>

    <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</a></p>
  
</section>
<article class="post h-entry col span_3_of_4"
  itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Coroutines</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-04-17T00:00:00-03:00" itemprop="datePublished">Apr 17, 2018
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Have you ever wondered how a construction crane grows with the building?
Well, I have. Here’s how it works.</p>

<p>A portable crane constructs the initial tower and places the head, with
pivot and counter-balanced long arm, on top. Then the crane starts making
the building.</p>

<p>When the building reaches a height too close to the height of the crane,
the crew stabilizes the tower using a brace against the building.
Then they add sections, about four meters long,
to the tower underneath the head.</p>

<p><img src="/assets/images/CraneConnected.jpg" alt="Preparing to extend the crane" />
<img src="/assets/images/CraneExtended.jpg" alt="Crane extended" />
<img src="/assets/images/Crane.jpg" alt="Construction crane" /></p>

<p>This process of adding sections underneath the head is fascinating,
at least to me. It’s a very clever work of engineering.</p>

<p>The base of the tower, when it was first constructed, is fitted
with a sleeve.
The sleeve is roughly double the length of a section.</p>
<ul>
  <li>The upper part of the sleeve can stably hold the head of the crane.</li>
  <li>The lower part of the sleeve can stably maintain itself attached to
the tower and move the sleeve up and down on the tower.</li>
  <li>The middle part of the sleeve is hollow, open on one side, and fitted
with rails and catwalks.</li>
</ul>

<p>The crew:</p>

<ol>
  <li>moves the sleeve up to the head.</li>
  <li>braces the tower below the sleeve.</li>
  <li>raises a section of tower using the crane itself,
and stations the section on the rails of the sleeve.</li>
  <li>raises another section of tower or a weight to use as adjustable balance
for the head.</li>
  <li>attaches the head to the sleeve and detaches it from the tower.
There is much banging and fiddling at this stage as they move the
crane to balance the head, take pressure off of the bolts, line up the
bolt holes, and remove or insert the bolts.</li>
  <li>raises the sleeve, with the attached head, leaving an open space
between the head and the tower.
They do this very, very slowly.
There is no perceptible motion, only over time, a widening gap.</li>
  <li>slides the new section of tower into place and attaches it.</li>
</ol>

<p>In the two close-up pictures of the top of the crane, you can see
the sleeve in position before and while raising the head of the crane
above the existing tower to make room for a new tower section.</p>

<p>In the far-away picture, the crew has added one new section to the
tower and is preparing to mount the next section onto the rails on
the sleeve.</p>

<h2 id="as-a-metaphor">As a metaphor</h2>

<p>The crane builds the building, and having built the building,
builds itself. So clever.</p>

<p>This is something like co-routines in software, which trade work
on two parallel aspects of a task to make progress toward completion.</p>

<p>It is also something like bootstrapping a company. You could think of
the crane as money, and the building as the business. With some initial
money you start the business. When the business grows it can fund
itself for more growth.</p>

<p>Seeing the building go up makes me think of incremental development.
A software system isn’t
anything like as regular as the floors of a building. As a building,
software would look more like something from Dr. Seuss.
However, in a sense, adding a floor is a sprint. Extending the tower
is a short sprint or spike to enable more sprints.
Filling-out the floors with fire-protection, plumbing, electrical,
HVAC, walls, ceilings, fixtures, and furnishing may all be planned as
units of work or stories that are no doubt sequenced
and scheduled by the builders.</p>

<p>The metaphor is limited:</p>
<ul>
  <li>A software system ought to be useful very
early in development, like a shed, then a house, then an office, then
a mall… or whatever. The building isn’t useful until it’s very nearly
complete. (Other than as bracing for the crane that’s building it.)</li>
  <li>It’s horrible to try to apply construction planning and scheduling
techniques to software. Software isn’t regular enough or made-up of
repeated processes- like laying-in sprinkler pipes on the floor of a
building.</li>
</ul>

<p>In any case,
it’s fun to see a construction crew make progress on a building,
to see a crane bootstrap itself, and
to see a development team make progress on a software system.</p>

  </div><a class="u-url" href="/2018/04/co-routines.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Wind and Water</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Douglas Lovell</li><li><a class="u-email" href="mailto:doug@wbreeze.com">doug@wbreeze.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wbreeze"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wbreeze</span></a></li><li><a href="/feed.xml"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg> <span>rss</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>The fascination of what&#39;s difficult...</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>

